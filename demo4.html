<!DOCTYPE html>
<html>
  <head>
    <script src="./react/react.js"></script>
    <script src="./react/react-dom.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
  </head>
  <body>
    <div id="example"></div>
    <script type="text/babel">
      var HelloWorld = React.createClass({
        getInitialState: function() {

          this.loadData();
          return {data: []};
        },
        loadData: function() {
          fetch("./data/demo4.json").then(function(res) {
            // res instanceof Response == true.
            if (res.ok) {
              res.json().then(function(data) {
                console.log(data.entries);
              });
            } else {
              console.log("Looks like the response wasn't perfect, got status", res.status);
            }
          });
        },
        render: function() {
          var person = this.state.data.map(function(d) {
            return (
              <div className="name">
                name:{d.name}, age:{d.age}
              </div> 
            )
          });
          return (
             <div>
                {person}
             </div>
          );
        }
      });
      React.render(
        <HelloWorld url="./data/demo4.json"/>,
        document.getElementById('example')
      );
    </script>

</html>
